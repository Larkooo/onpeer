import { type Elysia } from 'elysia';
import type { CreateMobius, Resolver } from 'graphql-mobius';
import { type YogaServerOptions, type YogaInitialContext } from 'graphql-yoga';
import type { IExecutableSchemaDefinition } from '@graphql-tools/schema';
import type { TypeSource } from '@graphql-tools/utils';
type MaybePromise<T> = T | Promise<T>;
type Prettify<T> = {
    [K in keyof T]: T[K];
} & {};
interface ElysiaYogaConfig<TypeDefs extends TypeSource, Context extends undefined | MaybePromise<Record<string, unknown>> | ((initialContext: YogaInitialContext) => MaybePromise<unknown>)> extends Omit<YogaServerOptions<{}, {}>, 'schema' | 'typeDefs' | 'context'>, Omit<IExecutableSchemaDefinition<{}>, 'resolvers'> {
    path?: string;
    typeDefs: TypeDefs;
    context?: Context;
    useContext?: (_: this['context']) => void;
    resolvers: Resolver<TypeDefs extends string ? CreateMobius<TypeDefs> : {
        Query: Record<string, unknown>;
        Mutation: Record<string, unknown>;
        Subscription: Record<string, unknown>;
    }, Context extends undefined ? {
        request: Request;
    } : Context extends (a: YogaInitialContext) => infer A ? Prettify<NonNullable<Awaited<A>> & {
        request: Request;
    }> : Prettify<NonNullable<Awaited<Context>> & {
        request: Request;
    }>>;
}
export declare const yoga: <const TypeDefs extends string, Context extends MaybePromise<Record<string, unknown>> | ((initialContext: YogaInitialContext) => MaybePromise<unknown>) | undefined, const Prefix extends string = "/graphql">({ path, typeDefs, resolvers, resolverValidationOptions, inheritResolversFromInterfaces, updateResolversInPlace, schemaExtensions, ...config }: ElysiaYogaConfig<TypeDefs, Context>) => (app: Elysia) => Elysia<"", {
    request: {};
    store: {};
    schema: {};
    error: {};
    meta: Record<"defs", {}> & Record<"exposed", {}> & Record<"schema", {
        [x: string]: {
            get: {
                body: unknown;
                headers: undefined;
                query: undefined;
                params: undefined;
                response: {
                    '200': Promise<Response>;
                };
            };
        } & {
            post: {
                handler?: (({ request }: import("elysia").Context<{
                    body: unknown;
                    params: Record<never, string>;
                    query: undefined;
                    headers: undefined;
                    response: unknown;
                }, {}>) => Promise<Response>) | undefined;
                body: unknown;
                headers: undefined;
                query: undefined;
                params: undefined;
                response: {
                    '200': Promise<Response>;
                };
            };
        };
    }>;
}>;
export default yoga;
